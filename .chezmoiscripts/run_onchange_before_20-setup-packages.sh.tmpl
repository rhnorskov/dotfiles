#!/usr/bin/env bash

set -euo pipefail

# Add Homebrew to PATH
eval "$(/opt/homebrew/bin/brew shellenv)"

# Install mise first (needed for version management)
brew install mise

# Run mise install to set up runtime versions
mise install

# Install common CLI tools
brew install fzf
brew install gh
brew install git
brew install ncdu
brew install ripgrep
brew install starship
brew install watchman

{{- if eq .machine.type "work" }}
# Work-specific packages
{{- end }}

{{- if eq .machine.type "private" }}
# Private-specific packages
{{- end }}

brew install --cask 1password
brew install --cask 1password-cli
brew install --cask appcleaner
brew install --cask brave-browser
brew install --cask chatgpt
brew install --cask claude
brew install --cask claude-code
brew install --cask docker-desktop
brew install --cask font-fira-code-nerd-font
brew install --cask ghostty
brew install --cask google-chrome
brew install --cask hiddenbar
brew install --cask karabiner-elements
brew install --cask messenger
brew install --cask raycast
brew install --cask readdle-spark
brew install --cask signal
brew install --cask spotify
brew install --cask tableplus
brew install --cask visual-studio-code
brew install --cask xcodes-app

{{- if eq .machine.type "work" }}
{{- end }}

{{- if eq .machine.type "private" }}
brew install --cask qbittorrent
{{- end }}
