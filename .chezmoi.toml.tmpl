{{- $machineType := "private" -}}
{{- if stdinIsATTY -}}
{{-   $machineType = promptString "Is this a work or private machine? (work/private)" $machineType -}}
{{- end }}

[data.machine]
type = {{ $machineType | quote }}

[edit]
command = "code"
args = ["--wait"]

[diff]
command = "code"
args = ["--wait", "--diff"]

[merge]
command = "bash"
args = [
    "-c",
    "cp {{ `{{ .Target | quote }}` }} {{ `{{ printf \"%s.base\" .Target | quote }}` }} && code --new-window --wait --merge {{ `{{ .Destination | quote }}` }} {{ `{{ .Target | quote }}` }} {{ `{{ printf \"%s.base\" .Target | quote }}` }} {{ `{{ .Source | quote }}` }}",
]